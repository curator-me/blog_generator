{% extends "base.html" %}

{% block content %}
<div class="bg-light py-5 min-vh-100">
  <div class="container">

    <h2 class="mb-4 text-center fw-bold">Latest Blog Posts</h2>

    {% if blogs %}
      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">
        {% for blog in blogs %}
          <div class="col">
            <div class="card h-100 shadow-sm border-0 rounded-4">
              <div class="card-body d-flex flex-column">
                <h5 class="card-title text-truncate" title="{{ blog.title }}">
                  {{ blog.title }}
                </h5>

                <p class="card-text flex-grow-1 text-secondary small">
                  {{ blog.blog|truncatechars:180 }}
                  <a href="{% url 'show_blog' blog.id %}" class="link-primary fw-semibold">Read more</a>
                </p>

                <div class="mt-2 small text-muted">
                  <i class="bi bi-person"></i> {{ blog.created_by }} &nbsp;Â·&nbsp;
                  <i class="bi bi-clock"></i> {{ blog.created_at|date:"M d, Y" }}
                </div>

                {% if blog.url_link %}
                  <a href="{{ blog.url_link }}" target="_blank" class="btn btn-outline-primary btn-sm mt-3 w-100 rounded-pill">
                    {{ blog.url_title|default:"Visit link" }}
                  </a>
                {% endif %}
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    {% else %}
      <div class="alert alert-info text-center mt-5">
        No blogs found.
      </div>
    {% endif %}

  </div>
</div>
{% endblock %}
